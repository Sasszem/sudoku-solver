(()=>{"use strict";var e,t,n,r,o,s,c,l={},i={};function u(e){if(i[e])return i[e].exports;var t=i[e]={id:e,loaded:!1,exports:{}};return l[e](t,t.exports,u),t.loaded=!0,t.exports}function a(){}function f(e){return e()}function d(){return Object.create(null)}function p(e){e.forEach(f)}function h(e){return"function"==typeof e}function m(e,t){return e!=e?t==t:e!==t||e&&"object"==typeof e||"function"==typeof e}function b(e){return 0===Object.keys(e).length}function g(e,t){e.appendChild(t)}function $(e,t,n){e.insertBefore(t,n||null)}function v(e){e.parentNode.removeChild(e)}function y(e,t){for(let n=0;n<e.length;n+=1)e[n]&&e[n].d(t)}function w(e){return document.createElement(e)}function k(e){return document.createTextNode(e)}function x(){return k(" ")}function _(){return k("")}function S(e,t,n,r){return e.addEventListener(t,n,r),()=>e.removeEventListener(t,n,r)}function E(e,t,n){null==n?e.removeAttribute(t):e.getAttribute(t)!==n&&e.setAttribute(t,n)}function B(e,t){e.value=null==t?"":t}function q(e,t,n){e.classList[n?"add":"remove"](t)}let j;function C(e){j=e}function T(){if(!j)throw new Error("Function called outside component initialization");return j}u.m=l,e="function"==typeof Symbol?Symbol("webpack then"):"__webpack_then__",t="function"==typeof Symbol?Symbol("webpack exports"):"__webpack_exports__",n=e=>{e&&(e.forEach((e=>e.r--)),e.forEach((e=>e.r--?e.r++:e())))},r=e=>!--e.r&&e(),o=(e,t)=>e?e.push(t):r(t),u.a=(s,c,l)=>{var i,u,a,f=l&&[],d=s.exports,p=!0,h=!1,m=(t,n,r)=>{h||(h=!0,n.r+=t.length,t.map(((t,o)=>{t[e](n,r)})),h=!1)},b=new Promise(((e,t)=>{a=t,u=()=>{e(d),n(f),f=0}}));b[t]=d,b[e]=(e,t)=>{if(p)return r(e);i&&m(i,e,t),o(f,e),b.catch(t)},s.exports=b,c((s=>{if(!s)return u();var c,l;i=(s=>s.map((s=>{if(null!==s&&"object"==typeof s){if(s[e])return s;if(s.then){var c=[];s.then((e=>{l[t]=e,n(c),c=0}));var l={[e]:(e,t)=>{o(c,e),s.catch(t)}};return l}}return{[e]:e=>{r(e)},[t]:s}})))(s);var a=new Promise(((e,n)=>{(c=()=>e(l=i.map((e=>e[t])))).r=0,m(i,c,n)}));return c.r?a:l})).then(u,a),p=!1},u.d=(e,t)=>{for(var n in t)u.o(t,n)&&!u.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},u.f={},u.e=e=>Promise.all(Object.keys(u.f).reduce(((t,n)=>(u.f[n](e,t),t)),[])),u.u=e=>e+"."+e+".js",u.miniCssF=e=>{},u.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),u.hmd=e=>((e=Object.create(e)).children||(e.children=[]),Object.defineProperty(e,"exports",{enumerable:!0,set:()=>{throw new Error("ES Modules may not assign module.exports or exports.*, Use ESM export syntax, instead: "+e.id)}}),e),u.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),s={},c="svelte-rust-template:",u.l=(e,t,n,r)=>{if(s[e])s[e].push(t);else{var o,l;if(void 0!==n)for(var i=document.getElementsByTagName("script"),a=0;a<i.length;a++){var f=i[a];if(f.getAttribute("src")==e||f.getAttribute("data-webpack")==c+n){o=f;break}}o||(l=!0,(o=document.createElement("script")).charset="utf-8",o.timeout=120,u.nc&&o.setAttribute("nonce",u.nc),o.setAttribute("data-webpack",c+n),o.src=e),s[e]=[t];var d=(t,n)=>{o.onerror=o.onload=null,clearTimeout(p);var r=s[e];if(delete s[e],o.parentNode&&o.parentNode.removeChild(o),r&&r.forEach((e=>e(n))),t)return t(n)},p=setTimeout(d.bind(null,void 0,{type:"timeout",target:o}),12e4);o.onerror=d.bind(null,o.onerror),o.onload=d.bind(null,o.onload),l&&document.head.appendChild(o)}},u.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},(()=>{var e;u.g.importScripts&&(e=u.g.location+"");var t=u.g.document;if(!e&&t&&(t.currentScript&&(e=t.currentScript.src),!e)){var n=t.getElementsByTagName("script");n.length&&(e=n[n.length-1].src)}if(!e)throw new Error("Automatic publicPath is not supported in this browser");e=e.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),u.p=e+"../"})(),(()=>{var e={234:0};u.f.j=(t,n)=>{var r=u.o(e,t)?e[t]:void 0;if(0!==r)if(r)n.push(r[2]);else{var o=new Promise(((n,o)=>{r=e[t]=[n,o]}));n.push(r[2]=o);var s=u.p+u.u(t),c=new Error;u.l(s,(n=>{if(u.o(e,t)&&(0!==(r=e[t])&&(e[t]=void 0),r)){var o=n&&("load"===n.type?"missing":n.type),s=n&&n.target&&n.target.src;c.message="Loading chunk "+t+" failed.\n("+o+": "+s+")",c.name="ChunkLoadError",c.type=o,c.request=s,r[1](c)}}),"chunk-"+t,t)}};var t=(t,n)=>{for(var r,o,[s,c,l]=n,i=0,a=[];i<s.length;i++)o=s[i],u.o(e,o)&&e[o]&&a.push(e[o][0]),e[o]=0;for(r in c)u.o(c,r)&&(u.m[r]=c[r]);for(l&&l(u),t&&t(n);a.length;)a.shift()()},n=self.webpackChunksvelte_rust_template=self.webpackChunksvelte_rust_template||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))})(),u.v=(e,t,n,r)=>{var o=fetch(u.p+""+n+".module.wasm");return"function"==typeof WebAssembly.instantiateStreaming?WebAssembly.instantiateStreaming(o,r).then((t=>Object.assign(e,t.instance.exports))):o.then((e=>e.arrayBuffer())).then((e=>WebAssembly.instantiate(e,r))).then((t=>Object.assign(e,t.instance.exports)))},new Set,new Set;const O=[],A=[],L=[],M=[],P=Promise.resolve();let N=!1;function z(e){L.push(e)}let W=!1;const H=new Set;function F(){if(!W){W=!0;do{for(let e=0;e<O.length;e+=1){const t=O[e];C(t),I(t.$$)}for(C(null),O.length=0;A.length;)A.pop()();for(let e=0;e<L.length;e+=1){const t=L[e];H.has(t)||(H.add(t),t())}L.length=0}while(O.length);for(;M.length;)M.pop()();N=!1,W=!1,H.clear()}}function I(e){if(null!==e.fragment){e.update(),p(e.before_update);const t=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,t),e.after_update.forEach(z)}}const U=new Set;let D,G;function J(){D={r:0,c:[],p:D}}function K(){D.r||p(D.c),D=D.p}function Q(e,t){e&&e.i&&(U.delete(e),e.i(t))}function R(e,t,n,r){if(e&&e.o){if(U.has(e))return;U.add(e),D.c.push((()=>{U.delete(e),r&&(n&&e.d(1),r())})),e.o(t)}}function V(e){e&&e.c()}function X(e,t,n){const{fragment:r,on_mount:o,on_destroy:s,after_update:c}=e.$$;r&&r.m(t,n),z((()=>{const t=o.map(f).filter(h);s?s.push(...t):p(t),e.$$.on_mount=[]})),c.forEach(z)}function Y(e,t){const n=e.$$;null!==n.fragment&&(p(n.on_destroy),n.fragment&&n.fragment.d(t),n.on_destroy=n.fragment=null,n.ctx=[])}function Z(e,t,n,r,o,s,c=[-1]){const l=j;C(e);const i=e.$$={fragment:null,ctx:null,props:s,update:a,not_equal:o,bound:d(),on_mount:[],on_destroy:[],before_update:[],after_update:[],context:new Map(l?l.$$.context:[]),callbacks:d(),dirty:c,skip_bound:!1};let u=!1;if(i.ctx=n?n(e,t.props||{},((t,n,...r)=>{const s=r.length?r[0]:n;return i.ctx&&o(i.ctx[t],i.ctx[t]=s)&&(!i.skip_bound&&i.bound[t]&&i.bound[t](s),u&&function(e,t){-1===e.$$.dirty[0]&&(O.push(e),N||(N=!0,P.then(F)),e.$$.dirty.fill(0)),e.$$.dirty[t/31|0]|=1<<t%31}(e,t)),n})):[],i.update(),u=!0,p(i.before_update),i.fragment=!!r&&r(i.ctx),t.target){if(t.hydrate){const e=(f=t.target,Array.from(f.childNodes));i.fragment&&i.fragment.l(e),e.forEach(v)}else i.fragment&&i.fragment.c();t.intro&&Q(e.$$.fragment),X(e,t.target,t.anchor),F()}var f;C(l)}"undefined"!=typeof window?window:"undefined"!=typeof globalThis?globalThis:global,new Set(["allowfullscreen","allowpaymentrequest","async","autofocus","autoplay","checked","controls","default","defer","disabled","formnovalidate","hidden","ismap","loop","multiple","muted","nomodule","novalidate","open","playsinline","readonly","required","reversed","selected"]),"function"==typeof HTMLElement&&(G=class extends HTMLElement{constructor(){super(),this.attachShadow({mode:"open"})}connectedCallback(){for(const e in this.$$.slotted)this.appendChild(this.$$.slotted[e])}attributeChangedCallback(e,t,n){this[e]=n}$destroy(){Y(this,1),this.$destroy=a}$on(e,t){const n=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return n.push(t),()=>{const e=n.indexOf(t);-1!==e&&n.splice(e,1)}}$set(e){this.$$set&&!b(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}});class ee{$destroy(){Y(this,1),this.$destroy=a}$on(e,t){const n=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return n.push(t),()=>{const e=n.indexOf(t);-1!==e&&n.splice(e,1)}}$set(e){this.$$set&&!b(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}const te=[];const ne=function(){let e={squares:new Array(81).fill(0),problems:[],wasm:null};const{subscribe:t,update:n}=function(e,t=a){let n;const r=[];function o(t){if(m(e,t)&&(e=t,n)){const t=!te.length;for(let t=0;t<r.length;t+=1){const n=r[t];n[1](),te.push(n,e)}if(t){for(let e=0;e<te.length;e+=2)te[e][0](te[e+1]);te.length=0}}}return{set:o,update:function(t){o(t(e))},subscribe:function(s,c=a){const l=[s,c];return r.push(l),1===r.length&&(n=t(o)||a),s(e),()=>{const e=r.indexOf(l);-1!==e&&r.splice(e,1),0===r.length&&(n(),n=null)}}}}(e);return{subscribe:t,setSquare:(e,t)=>n((n=>{const r=n.squares.map(((n,r)=>r==e?parseInt(t)||0:n)),o=n.wasm.Board.new(r).validate_all();return{...n,squares:r,problems:o}})),setWasm:e=>n((t=>({...t,wasm:e}))),solveSteps:()=>n((e=>{const t=e.wasm.BoardSolving.from_board(e.wasm.Board.new(e.squares));t.solve_step();const n=Array.from(t.to_board().to_array());return{...e,squares:n}}))}}();function re(e){let t,n,r;return{c(){t=w("input"),E(t,"maxlength","1"),E(t,"class","svelte-1p50qvy"),q(t,"error",e[1])},m(o,s){$(o,t,s),B(t,e[0]),n||(r=[S(t,"input",e[6]),S(t,"change",e[2])],n=!0)},p(e,[n]){1&n&&t.value!==e[0]&&B(t,e[0]),2&n&&q(t,"error",e[1])},i:a,o:a,d(e){e&&v(t),n=!1,p(r)}}}function oe(e,t,n){let r,o;var s,c;s=ne,c=e=>n(5,o=e),e.$$.on_destroy.push(function(e,...t){if(null==e)return a;const n=e.subscribe(...t);return n.unsubscribe?()=>n.unsubscribe():n}(s,c));let l,{index:i}=t;function u(){n(0,l=o.squares[i]||"")}return e.$$set=e=>{"index"in e&&n(3,i=e.index)},e.$$.update=()=>{40&e.$$.dirty&&n(1,r=o.problems.includes(i))},[l,r,function(){const e=parseInt(l)||(""==l?0:o.squares[i]);ne.setSquare(i,e),u()},i,u,o,function(){l=this.value,n(0,l)}]}const se=class extends ee{constructor(e){super(),Z(this,e,oe,re,m,{index:3,refresh:4})}get refresh(){return this.$$.ctx[4]}};function ce(e,t,n,r){return 9*(3*e+n)+(3*t+r)}function le(e,t,n){const r=e.slice();return r[5]=t[n],r[6]=t,r[7]=n,r}function ie(e,t,n){const r=e.slice();return r[8]=t[n],r[9]=t,r[10]=n,r}function ue(e){let t,n,r=e[5],o=e[8];const s=()=>e[4](t,r,o),c=()=>e[4](null,r,o);let l={index:ce(e[0],e[1],e[5],e[8])};return t=new se({props:l}),s(),{c(){V(t.$$.fragment)},m(e,r){X(t,e,r),n=!0},p(e,n){r===e[5]&&o===e[8]||(c(),r=e[5],o=e[8],s());const l={};3&n&&(l.index=ce(e[0],e[1],e[5],e[8])),t.$set(l)},i(e){n||(Q(t.$$.fragment,e),n=!0)},o(e){R(t.$$.fragment,e),n=!1},d(e){c(),Y(t,e)}}}function ae(e){let t,n,r=[0,1,2],o=[];for(let t=0;t<3;t+=1)o[t]=ue(ie(e,r,t));const s=e=>R(o[e],1,1,(()=>{o[e]=null}));return{c(){for(let e=0;e<3;e+=1)o[e].c();t=_()},m(e,r){for(let t=0;t<3;t+=1)o[t].m(e,r);$(e,t,r),n=!0},p(e,n){if(7&n){let c;for(r=[0,1,2],c=0;c<3;c+=1){const s=ie(e,r,c);o[c]?(o[c].p(s,n),Q(o[c],1)):(o[c]=ue(s),o[c].c(),Q(o[c],1),o[c].m(t.parentNode,t))}for(J(),c=3;c<3;c+=1)s(c);K()}},i(e){if(!n){for(let e=0;e<3;e+=1)Q(o[e]);n=!0}},o(e){o=o.filter(Boolean);for(let e=0;e<3;e+=1)R(o[e]);n=!1},d(e){y(o,e),e&&v(t)}}}function fe(e){let t,n,r=[0,1,2],o=[];for(let t=0;t<3;t+=1)o[t]=ae(le(e,r,t));const s=e=>R(o[e],1,1,(()=>{o[e]=null}));return{c(){t=w("div");for(let e=0;e<3;e+=1)o[e].c();E(t,"class","container svelte-m3mn9c")},m(e,r){$(e,t,r);for(let e=0;e<3;e+=1)o[e].m(t,null);n=!0},p(e,[n]){if(7&n){let c;for(r=[0,1,2],c=0;c<3;c+=1){const s=le(e,r,c);o[c]?(o[c].p(s,n),Q(o[c],1)):(o[c]=ae(s),o[c].c(),Q(o[c],1),o[c].m(t,null))}for(J(),c=3;c<3;c+=1)s(c);K()}},i(e){if(!n){for(let e=0;e<3;e+=1)Q(o[e]);n=!0}},o(e){o=o.filter(Boolean);for(let e=0;e<3;e+=1)R(o[e]);n=!1},d(e){e&&v(t),y(o,e)}}}function de(e,t,n){let{rowBig:r}=t,{columnBig:o}=t,s=[];return e.$$set=e=>{"rowBig"in e&&n(0,r=e.rowBig),"columnBig"in e&&n(1,o=e.columnBig)},[r,o,s,function(){for(const e of s)e.refresh()},function(e,t,r){A[e?"unshift":"push"]((()=>{s[3*t+r]=e,n(2,s)}))}]}const pe=class extends ee{constructor(e){super(),Z(this,e,de,fe,m,{rowBig:0,columnBig:1,refresh:3})}get refresh(){return this.$$.ctx[3]}};function he(e,t,n){const r=e.slice();return r[4]=t[n],r[5]=t,r[6]=n,r}function me(e,t,n){const r=e.slice();return r[7]=t[n],r[8]=t,r[9]=n,r}function be(e){let t,n,r=e[4],o=e[7];const s=()=>e[2](t,r,o),c=()=>e[2](null,r,o);let l={rowBig:e[4],columnBig:e[7]};return t=new pe({props:l}),s(),{c(){V(t.$$.fragment)},m(e,r){X(t,e,r),n=!0},p(e,n){r===e[4]&&o===e[7]||(c(),r=e[4],o=e[7],s()),t.$set({})},i(e){n||(Q(t.$$.fragment,e),n=!0)},o(e){R(t.$$.fragment,e),n=!1},d(e){c(),Y(t,e)}}}function ge(e){let t,n,r=[0,1,2],o=[];for(let t=0;t<3;t+=1)o[t]=be(me(e,r,t));const s=e=>R(o[e],1,1,(()=>{o[e]=null}));return{c(){for(let e=0;e<3;e+=1)o[e].c();t=_()},m(e,r){for(let t=0;t<3;t+=1)o[t].m(e,r);$(e,t,r),n=!0},p(e,n){if(1&n){let c;for(r=[0,1,2],c=0;c<3;c+=1){const s=me(e,r,c);o[c]?(o[c].p(s,n),Q(o[c],1)):(o[c]=be(s),o[c].c(),Q(o[c],1),o[c].m(t.parentNode,t))}for(J(),c=3;c<3;c+=1)s(c);K()}},i(e){if(!n){for(let e=0;e<3;e+=1)Q(o[e]);n=!0}},o(e){o=o.filter(Boolean);for(let e=0;e<3;e+=1)R(o[e]);n=!1},d(e){y(o,e),e&&v(t)}}}function $e(e){let t,n,r,o,s,c,l=[0,1,2],i=[];for(let t=0;t<3;t+=1)i[t]=ge(he(e,l,t));const u=e=>R(i[e],1,1,(()=>{i[e]=null}));return{c(){t=w("div");for(let e=0;e<3;e+=1)i[e].c();n=x(),r=w("button"),r.textContent="solve some squres",E(t,"class","field-container svelte-16dc84b"),E(r,"class","svelte-16dc84b")},m(l,u){$(l,t,u);for(let e=0;e<3;e+=1)i[e].m(t,null);$(l,n,u),$(l,r,u),o=!0,s||(c=S(r,"click",e[3]),s=!0)},p(e,[n]){if(1&n){let r;for(l=[0,1,2],r=0;r<3;r+=1){const o=he(e,l,r);i[r]?(i[r].p(o,n),Q(i[r],1)):(i[r]=ge(o),i[r].c(),Q(i[r],1),i[r].m(t,null))}for(J(),r=3;r<3;r+=1)u(r);K()}},i(e){if(!o){for(let e=0;e<3;e+=1)Q(i[e]);o=!0}},o(e){i=i.filter(Boolean);for(let e=0;e<3;e+=1)R(i[e]);o=!1},d(e){e&&v(t),y(i,e),e&&v(n),e&&v(r),s=!1,c()}}}function ve(e,t,n){let r=[];function o(){for(const e of r)e.refresh()}return[r,o,function(e,t,o){A[e?"unshift":"push"]((()=>{r[3*t+o]=e,n(0,r)}))},()=>{ne.solveSteps(),o()}]}const ye=class extends ee{constructor(e){super(),Z(this,e,ve,$e,m,{})}};function we(e){return{c:a,m:a,i:a,o:a,d:a}}function ke(e){let t,n;return t=new ye({}),{c(){V(t.$$.fragment)},m(e,r){X(t,e,r),n=!0},i(e){n||(Q(t.$$.fragment,e),n=!0)},o(e){R(t.$$.fragment,e),n=!1},d(e){Y(t,e)}}}function xe(e){let t;return{c(){t=w("div"),t.innerHTML='<p class="text svelte-1nxdzto">Loading, please wait...</p> \n        <div class="spinner svelte-1nxdzto"></div>',E(t,"class","loader-container")},m(e,n){$(e,t,n)},i:a,o:a,d(e){e&&v(t)}}}function _e(e){let t,n,r,o={ctx:e,current:null,token:null,hasCatch:!1,pending:xe,then:ke,catch:we,value:0,blocks:[,,,]};return function(e,t){const n=t.token={};function r(e,r,o,s){if(t.token!==n)return;t.resolved=s;let c=t.ctx;void 0!==o&&(c=c.slice(),c[o]=s);const l=e&&(t.current=e)(c);let i=!1;t.block&&(t.blocks?t.blocks.forEach(((e,n)=>{n!==r&&e&&(J(),R(e,1,1,(()=>{t.blocks[n]===e&&(t.blocks[n]=null)})),K())})):t.block.d(1),l.c(),Q(l,1),l.m(t.mount(),t.anchor),i=!0),t.block=l,t.blocks&&(t.blocks[r]=l),i&&F()}if((o=e)&&"object"==typeof o&&"function"==typeof o.then){const n=T();if(e.then((e=>{C(n),r(t.then,1,t.value,e),C(null)}),(e=>{if(C(n),r(t.catch,2,t.error,e),C(null),!t.hasCatch)throw e})),t.current!==t.pending)return r(t.pending,0),!0}else{if(t.current!==t.then)return r(t.then,1,t.value,e),!0;t.resolved=e}var o}(n=u.e(235).then(u.bind(u,235)).then(ne.setWasm),o),{c(){t=_(),o.block.c()},m(e,n){$(e,t,n),o.block.m(e,o.anchor=n),o.mount=()=>t.parentNode,o.anchor=t,r=!0},p(t,[n]){e=t},i(e){r||(Q(o.block),r=!0)},o(e){for(let e=0;e<3;e+=1)R(o.blocks[e]);r=!1},d(e){e&&v(t),o.block.d(e),o.token=null,o=null}}}const Se=class extends ee{constructor(e){super(),Z(this,e,null,_e,m,{})}};function Ee(e){let t,n,r,o,s,c,l,i,u;return c=new Se({}),{c(){t=w("main"),n=w("h1"),n.textContent="Sudoku solver",r=x(),o=w("p"),o.innerHTML='Enter the puzzle down bellow. When finished, click the <span class="svelte-c8mwkq">solve some squares</span> button!',s=x(),V(c.$$.fragment),l=x(),i=w("p"),i.innerHTML='Made by <a href="https://sasszem.github.io">László Baráth (2021)</a>',E(n,"class","svelte-c8mwkq"),E(o,"class","svelte-c8mwkq"),E(i,"class","svelte-c8mwkq"),E(t,"class","svelte-c8mwkq")},m(e,a){$(e,t,a),g(t,n),g(t,r),g(t,o),g(t,s),X(c,t,null),g(t,l),g(t,i),u=!0},p:a,i(e){u||(Q(c.$$.fragment,e),u=!0)},o(e){R(c.$$.fragment,e),u=!1},d(e){e&&v(t),Y(c)}}}new class extends ee{constructor(e){super(),Z(this,e,null,Ee,m,{})}}({target:document.body,props:{}})})();